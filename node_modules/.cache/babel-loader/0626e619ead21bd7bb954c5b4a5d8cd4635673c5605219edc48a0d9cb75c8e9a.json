{"ast":null,"code":"var _jsxFileName = \"/Users/viyondpay/opensource/dynamic_decision/front/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  // 修改数据结构：每个规则拥有自己的决策\n  const [rules, setRules] = useState([{\n    id: 1,\n    name: '规则1',\n    expression: 'age >= 18',\n    decisions: [{\n      id: 1,\n      name: '规则1决策',\n      actions: [{\n        type: 'SET',\n        key: 'result',\n        value: 'true',\n        target: 'ML_DECISION'\n      }]\n    }]\n  }, {\n    id: 2,\n    name: '规则2',\n    expression: 'age <= 18',\n    decisions: [{\n      id: 2,\n      name: '规则2决策',\n      actions: [{\n        type: 'SET',\n        key: 'result',\n        value: 'false',\n        target: 'ML_DECISION'\n      }, {\n        type: 'INCR',\n        key: 'key',\n        value: 'Value'\n      }]\n    }]\n  }]);\n  const [testInput, setTestInput] = useState('{ \"age\": 28 }');\n  const [testResult, setTestResult] = useState(null);\n  const [showTestResult, setShowTestResult] = useState(false);\n\n  // 拖拽相关状态\n  const [draggedIndex, setDraggedIndex] = useState(null);\n  const [resultTrace, setResultTrace] = useState([]);\n\n  // 更新规则表达式\n  const handleRuleExpressionChange = (id, value) => {\n    setRules(rules.map(rule => rule.id === id ? {\n      ...rule,\n      expression: value\n    } : rule));\n  };\n\n  // 更新规则名称\n  const updateRuleName = (id, name) => {\n    setRules(rules.map(rule => rule.id === id ? {\n      ...rule,\n      name\n    } : rule));\n  };\n\n  // 处理动作变更\n  const handleActionChange = (ruleId, decisionId, actionIndex, field, value) => {\n    setRules(rules.map(rule => {\n      if (rule.id === ruleId) {\n        const updatedDecisions = rule.decisions.map(decision => {\n          if (decision.id === decisionId) {\n            const updatedActions = [...decision.actions];\n            updatedActions[actionIndex] = {\n              ...updatedActions[actionIndex],\n              [field]: value\n            };\n            return {\n              ...decision,\n              actions: updatedActions\n            };\n          }\n          return decision;\n        });\n        return {\n          ...rule,\n          decisions: updatedDecisions\n        };\n      }\n      return rule;\n    }));\n  };\n\n  // 添加新的决策动作\n  const addNewDecisionAction = (ruleId, decisionId) => {\n    setRules(rules.map(rule => {\n      if (rule.id === ruleId) {\n        const updatedDecisions = rule.decisions.map(decision => {\n          if (decision.id === decisionId) {\n            return {\n              ...decision,\n              actions: [...decision.actions, {\n                type: 'SET',\n                key: '',\n                value: '',\n                target: 'ML_DECISION'\n              }]\n            };\n          }\n          return decision;\n        });\n        return {\n          ...rule,\n          decisions: updatedDecisions\n        };\n      }\n      return rule;\n    }));\n  };\n\n  // 删除决策动作\n  const deleteDecisionAction = (ruleId, decisionId, actionIndex) => {\n    setRules(rules.map(rule => {\n      if (rule.id === ruleId) {\n        const updatedDecisions = rule.decisions.map(decision => {\n          if (decision.id === decisionId) {\n            if (decision.actions.length <= 1) {\n              alert('至少需要保留一个动作');\n              return decision;\n            }\n            const updatedActions = [...decision.actions];\n            updatedActions.splice(actionIndex, 1);\n            return {\n              ...decision,\n              actions: updatedActions\n            };\n          }\n          return decision;\n        });\n        return {\n          ...rule,\n          decisions: updatedDecisions\n        };\n      }\n      return rule;\n    }));\n  };\n\n  // 添加新的决策项\n  const addNewDecision = ruleId => {\n    setRules(rules.map(rule => {\n      if (rule.id === ruleId) {\n        const newDecisionId = Math.max(...rule.decisions.map(d => d.id), 0) + 1;\n        return {\n          ...rule,\n          decisions: [...rule.decisions, {\n            id: newDecisionId,\n            name: `决策${newDecisionId}`,\n            actions: [{\n              type: 'SET',\n              key: '',\n              value: '',\n              target: 'ML_DECISION'\n            }]\n          }]\n        };\n      }\n      return rule;\n    }));\n  };\n\n  // 删除决策项\n  const deleteDecision = (ruleId, decisionId) => {\n    setRules(rules.map(rule => {\n      if (rule.id === ruleId) {\n        // 确保至少保留一个决策项\n        if (rule.decisions.length > 1) {\n          return {\n            ...rule,\n            decisions: rule.decisions.filter(d => d.id !== decisionId)\n          };\n        }\n      }\n      return rule;\n    }));\n  };\n\n  // 处理测试输入变更\n  const handleTestInputChange = e => {\n    setTestInput(e.target.value);\n  };\n\n  // 运行测试\n  const runTest = () => {\n    try {\n      const input = JSON.parse(testInput);\n      const results = rules.map(rule => {\n        try {\n          // 使用eval执行规则表达式，实际生产环境应使用更安全的方式\n          const age = input.age;\n          const balance = input.balance || 0;\n          const score = input.score || 0;\n          const hasBadRecord = input.hasBadRecord || false;\n          const level = input.level || '';\n          const points = input.points || 0;\n\n          // 处理level字符串比较\n          const processedExpression = rule.expression.replace(/level\\s*==\\s*([A-Z]+)/g, (match, p1) => `level == '${p1}'`);\n          const isMatch = eval(processedExpression);\n          return {\n            ruleName: rule.name,\n            expression: rule.expression,\n            matched: isMatch,\n            decision: isMatch ? rule.decisions[0].actions : []\n          };\n        } catch (error) {\n          return {\n            ruleName: rule.name,\n            expression: rule.expression,\n            matched: false,\n            error: error.message\n          };\n        }\n      });\n\n      // 生成测试轨迹\n      const trace = results.map(result => ({\n        ruleName: result.ruleName,\n        expression: result.expression,\n        passed: result.matched,\n        result: result.matched ? '通过' : result.error ? `错误: ${result.error}` : '未通过'\n      }));\n\n      // 找到第一个匹配的规则结果\n      const firstMatch = results.find(result => result.matched);\n      const finalResult = firstMatch ? '规则命中' : '未命中任何规则';\n      setTestResult({\n        results,\n        finalResult\n      });\n      setResultTrace(trace);\n      setShowTestResult(true);\n    } catch (error) {\n      alert('输入JSON格式错误: ' + error.message);\n    }\n  };\n\n  // 添加新规则\n  const addNewRule = () => {\n    const newId = Math.max(...rules.map(r => r.id)) + 1;\n    setRules([...rules, {\n      id: newId,\n      expression: '',\n      name: `规则${newId}`,\n      decisions: [{\n        id: newId,\n        name: `规则${newId}决策`,\n        actions: [{\n          type: 'SET',\n          key: '',\n          value: '',\n          target: 'ML_DECISION'\n        }]\n      }]\n    }]);\n  };\n\n  // 删除规则\n  const handleDeleteRule = id => {\n    if (rules.length <= 1) {\n      alert('至少需要保留一条规则');\n      return;\n    }\n    setRules(rules.filter(rule => rule.id !== id));\n  };\n\n  // 复制规则\n  const handleCopyRule = id => {\n    const ruleToCopy = rules.find(rule => rule.id === id);\n    if (!ruleToCopy) return;\n    const newId = Math.max(...rules.map(r => r.id)) + 1;\n    const newRule = {\n      ...ruleToCopy,\n      id: newId,\n      name: `${ruleToCopy.name} (复制)`,\n      decisions: ruleToCopy.decisions.map(decision => ({\n        ...decision,\n        id: newId,\n        name: `${decision.name} (复制)`\n      }))\n    };\n    setRules([...rules, newRule]);\n  };\n\n  // 拖拽相关函数\n  const handleDragStart = (e, index) => {\n    setDraggedIndex(index);\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/plain', index);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n  };\n  const handleDrop = (e, targetIndex) => {\n    e.preventDefault();\n    const sourceIndex = parseInt(e.dataTransfer.getData('text/plain'), 10);\n    if (sourceIndex !== targetIndex) {\n      const newRules = [...rules];\n      const [movedRule] = newRules.splice(sourceIndex, 1);\n      newRules.splice(targetIndex, 0, movedRule);\n      setRules(newRules);\n    }\n    setDraggedIndex(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u89C4\\u5219\\u7EC4\\uFF1A\\u89C4\\u5219\\u7EC41\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          children: \"\\u53D6\\u6D88\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          children: \"\\u786E\\u5B9A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          children: \"\\u4FDD\\u5B58\\u5E76\\u542F\\u7528\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rule-editor\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-title\",\n        children: \"\\u89C4\\u5219\\u4E0E\\u51B3\\u7B56\\u7BA1\\u7406\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"decision-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"table-column serial-column\",\n                children: \"\\u5E8F\\u53F7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"table-column rule-column\",\n                children: \"\\u89C4\\u5219\\u5217\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"table-column decision-column\",\n                children: \"\\u51B3\\u7B56\\u5217\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"table-column action-column\",\n                children: \"\\u64CD\\u4F5C\\u5217\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: rules.map((rule, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              draggable: \"true\",\n              onDragStart: e => handleDragStart(e, index),\n              onDragOver: handleDragOver,\n              onDrop: e => handleDrop(e, index),\n              className: \"table-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"serial-cell\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"serial-number\",\n                  children: index + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 31\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"rule-cell\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rule-section\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"rule-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"rule-name-container\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"rule-prefix\",\n                        children: \"\\u65B0\\u89C4\\u5219\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 332,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        className: \"rule-name\",\n                        value: rule.name,\n                        onChange: e => updateRuleName(rule.id, e.target.value),\n                        placeholder: \"\\u89C4\\u5219\\u540D\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 333,\n                        columnNumber: 37\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 331,\n                      columnNumber: 35\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      className: \"rule-expression\",\n                      value: rule.expression,\n                      onChange: e => handleRuleExpressionChange(rule.id, e.target.value),\n                      placeholder: \"\\u8F93\\u5165\\u89C4\\u5219\\u8868\\u8FBE\\u5F0F\\uFF0C\\u4F8B\\u5982\\uFF1Aage >= 18\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 342,\n                      columnNumber: 35\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 31\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"decision-cell\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"decision-section\",\n                  children: rule.decisions.map(decision => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"decision-item\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"decision-header\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"decision-type\",\n                        children: decision.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 359,\n                        columnNumber: 39\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"decision-actions\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn btn-small btn-danger\",\n                          onClick: () => deleteDecision(rule.id, decision.id),\n                          disabled: rule.decisions.length <= 1,\n                          children: \"\\u5220\\u9664\\u51B3\\u7B56\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 361,\n                          columnNumber: 41\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 360,\n                        columnNumber: 39\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"action-list\",\n                      children: decision.actions.map((action, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"action-row\",\n                        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                          className: \"action-select\",\n                          value: action.target,\n                          onChange: e => handleActionChange(rule.id, decision.id, idx, 'target', e.target.value),\n                          children: /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"ML_DECISION\",\n                            children: \"ML_DECISION\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 378,\n                            columnNumber: 45\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 373,\n                          columnNumber: 43\n                        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                          className: \"action-select\",\n                          value: action.type,\n                          onChange: e => handleActionChange(rule.id, decision.id, idx, 'type', e.target.value),\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"SET\",\n                            children: \"SET\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 385,\n                            columnNumber: 45\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"INCR\",\n                            children: \"INCR\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 386,\n                            columnNumber: 45\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 380,\n                          columnNumber: 43\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"text\",\n                          className: \"action-input\",\n                          value: action.key,\n                          onChange: e => handleActionChange(rule.id, decision.id, idx, 'key', e.target.value),\n                          placeholder: \"key\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 388,\n                          columnNumber: 43\n                        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                          type: \"text\",\n                          className: \"action-input\",\n                          value: action.value,\n                          onChange: e => handleActionChange(rule.id, decision.id, idx, 'value', e.target.value),\n                          placeholder: \"value\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 395,\n                          columnNumber: 43\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn btn-small btn-danger\",\n                          onClick: () => deleteDecisionAction(rule.id, decision.id, idx),\n                          children: \"\\u5220\\u9664\\u52A8\\u4F5C\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 402,\n                          columnNumber: 43\n                        }, this)]\n                      }, idx, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 372,\n                        columnNumber: 41\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 370,\n                      columnNumber: 37\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"btn btn-small btn-secondary\",\n                      onClick: () => addNewDecisionAction(rule.id, decision.id),\n                      children: \"+ \\u6DFB\\u52A0\\u52A8\\u4F5C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 411,\n                      columnNumber: 37\n                    }, this)]\n                  }, decision.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 35\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 31\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"action-cell\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row-actions\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-small btn-secondary\",\n                    onClick: () => handleCopyRule(rule.id),\n                    children: \"\\u590D\\u5236\\u89C4\\u5219\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 425,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-small btn-danger\",\n                    onClick: () => handleDeleteRule(rule.id),\n                    children: \"\\u5220\\u9664\\u89C4\\u5219\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 424,\n                  columnNumber: 31\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 29\n              }, this)]\n            }, rule.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: addNewRule,\n        children: \"+ \\u6DFB\\u52A0\\u89C4\\u5219\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"test-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-title\",\n        children: \"\\u6D4B\\u8BD5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"test-input\",\n        value: testInput,\n        onChange: handleTestInputChange,\n        placeholder: \"\\u8F93\\u5165\\u6D4B\\u8BD5\\u6570\\u636E\\uFF0C\\u4F8B\\u5982\\uFF1A{ \\\"age\\\": 28 }\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: runTest,\n        children: \"\\u8FD0\\u884C\\u6D4B\\u8BD5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }, this), testResult && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"test-results\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u6D4B\\u8BD5\\u7ED3\\u679C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 13\n        }, this), testResult.results.map((result, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"result-label\",\n              children: \"\\u89C4\\u5219:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"result-value\",\n              children: result.ruleName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"result-label\",\n              children: \"\\u8868\\u8FBE\\u5F0F:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"result-value\",\n              children: result.expression\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"result-label\",\n              children: \"\\u5339\\u914D\\u7ED3\\u679C:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"result-value\",\n              children: result.matched ? 'true' : 'false'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 17\n          }, this), result.error && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"result-label\",\n              children: \"\\u9519\\u8BEF:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"result-value\",\n              children: result.error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 19\n          }, this), result.decision && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"result-label\",\n              children: \"\\u6267\\u884C\\u51B3\\u7B56:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"result-value\",\n              children: JSON.stringify(result.decision, null, 2)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 19\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 287,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"hUG4FqduOAf+pFzs+jTmzTKcy2g=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","App","_s","rules","setRules","id","name","expression","decisions","actions","type","key","value","target","testInput","setTestInput","testResult","setTestResult","showTestResult","setShowTestResult","draggedIndex","setDraggedIndex","resultTrace","setResultTrace","handleRuleExpressionChange","map","rule","updateRuleName","handleActionChange","ruleId","decisionId","actionIndex","field","updatedDecisions","decision","updatedActions","addNewDecisionAction","deleteDecisionAction","length","alert","splice","addNewDecision","newDecisionId","Math","max","d","deleteDecision","filter","handleTestInputChange","e","runTest","input","JSON","parse","results","age","balance","score","hasBadRecord","level","points","processedExpression","replace","match","p1","isMatch","eval","ruleName","matched","error","message","trace","result","passed","firstMatch","find","finalResult","addNewRule","newId","r","handleDeleteRule","handleCopyRule","ruleToCopy","newRule","handleDragStart","index","dataTransfer","effectAllowed","setData","handleDragOver","preventDefault","dropEffect","handleDrop","targetIndex","sourceIndex","parseInt","getData","newRules","movedRule","className","children","fileName","_jsxFileName","lineNumber","columnNumber","draggable","onDragStart","onDragOver","onDrop","onChange","placeholder","onClick","disabled","action","idx","stringify","_c","$RefreshReg$"],"sources":["/Users/viyondpay/opensource/dynamic_decision/front/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\n\n\nfunction App() {\n  // 修改数据结构：每个规则拥有自己的决策\n  const [rules, setRules] = useState([\n    {\n      id: 1, \n      name: '规则1', \n      expression: 'age >= 18', \n      decisions: [\n        {\n          id: 1,\n          name: '规则1决策',\n          actions: [\n            { type: 'SET', key: 'result', value: 'true', target: 'ML_DECISION' }\n          ]\n        }\n      ]\n    },\n    {\n      id: 2, \n      name: '规则2', \n      expression: 'age <= 18', \n      decisions: [\n        {\n          id: 2,\n          name: '规则2决策',\n          actions: [\n            { type: 'SET', key: 'result', value: 'false', target: 'ML_DECISION' },\n            { type: 'INCR', key: 'key', value: 'Value' }\n          ]\n        }\n      ]\n    }\n  ]);\n\n  const [testInput, setTestInput] = useState('{ \"age\": 28 }');\n  const [testResult, setTestResult] = useState(null);\n  const [showTestResult, setShowTestResult] = useState(false);\n  \n  // 拖拽相关状态\n  const [draggedIndex, setDraggedIndex] = useState(null);\n  const [resultTrace, setResultTrace] = useState([]);\n\n  // 更新规则表达式\n  const handleRuleExpressionChange = (id, value) => {\n    setRules(rules.map(rule => \n      rule.id === id ? { ...rule, expression: value } : rule\n    ));\n  };\n\n  // 更新规则名称\n  const updateRuleName = (id, name) => {\n    setRules(rules.map(rule => \n      rule.id === id ? { ...rule, name } : rule\n    ));\n  };\n\n  // 处理动作变更\n  const handleActionChange = (ruleId, decisionId, actionIndex, field, value) => {\n    setRules(rules.map(rule => {\n      if (rule.id === ruleId) {\n        const updatedDecisions = rule.decisions.map(decision => {\n          if (decision.id === decisionId) {\n            const updatedActions = [...decision.actions];\n            updatedActions[actionIndex] = { ...updatedActions[actionIndex], [field]: value };\n            return { ...decision, actions: updatedActions };\n          }\n          return decision;\n        });\n        return { ...rule, decisions: updatedDecisions };\n      }\n      return rule;\n    }));\n  };\n\n  // 添加新的决策动作\n  const addNewDecisionAction = (ruleId, decisionId) => {\n    setRules(rules.map(rule => {\n      if (rule.id === ruleId) {\n        const updatedDecisions = rule.decisions.map(decision => {\n          if (decision.id === decisionId) {\n            return { \n              ...decision, \n              actions: [...decision.actions, { type: 'SET', key: '', value: '', target: 'ML_DECISION' }]\n            };\n          }\n          return decision;\n        });\n        return { ...rule, decisions: updatedDecisions };\n      }\n      return rule;\n    }));\n  };\n\n  // 删除决策动作\n  const deleteDecisionAction = (ruleId, decisionId, actionIndex) => {\n    setRules(rules.map(rule => {\n      if (rule.id === ruleId) {\n        const updatedDecisions = rule.decisions.map(decision => {\n          if (decision.id === decisionId) {\n            if (decision.actions.length <= 1) {\n              alert('至少需要保留一个动作');\n              return decision;\n            }\n            const updatedActions = [...decision.actions];\n            updatedActions.splice(actionIndex, 1);\n            return { ...decision, actions: updatedActions };\n          }\n          return decision;\n        });\n        return { ...rule, decisions: updatedDecisions };\n      }\n      return rule;\n    }));\n  };\n\n  // 添加新的决策项\n  const addNewDecision = (ruleId) => {\n    setRules(rules.map(rule => {\n      if (rule.id === ruleId) {\n        const newDecisionId = Math.max(...rule.decisions.map(d => d.id), 0) + 1;\n        return { \n          ...rule, \n          decisions: [...rule.decisions, {\n            id: newDecisionId,\n            name: `决策${newDecisionId}`,\n            actions: [{ type: 'SET', key: '', value: '', target: 'ML_DECISION' }]\n          }]\n        };\n      }\n      return rule;\n    }));\n  };\n\n  // 删除决策项\n  const deleteDecision = (ruleId, decisionId) => {\n    setRules(rules.map(rule => {\n      if (rule.id === ruleId) {\n        // 确保至少保留一个决策项\n        if (rule.decisions.length > 1) {\n          return { \n            ...rule, \n            decisions: rule.decisions.filter(d => d.id !== decisionId)\n          };\n        }\n      }\n      return rule;\n    }));\n  };\n\n  // 处理测试输入变更\n  const handleTestInputChange = (e) => {\n    setTestInput(e.target.value);\n  };\n\n  // 运行测试\n  const runTest = () => {\n    try {\n      const input = JSON.parse(testInput);\n      const results = rules.map(rule => {\n        try {\n          // 使用eval执行规则表达式，实际生产环境应使用更安全的方式\n          const age = input.age;\n          const balance = input.balance || 0;\n          const score = input.score || 0;\n          const hasBadRecord = input.hasBadRecord || false;\n          const level = input.level || '';\n          const points = input.points || 0;\n          \n          // 处理level字符串比较\n          const processedExpression = rule.expression.replace(/level\\s*==\\s*([A-Z]+)/g, (match, p1) => `level == '${p1}'`);\n          const isMatch = eval(processedExpression);\n          \n          return { \n            ruleName: rule.name, \n            expression: rule.expression, \n            matched: isMatch,\n            decision: isMatch ? rule.decisions[0].actions : []\n          };\n        } catch (error) {\n          return { \n            ruleName: rule.name, \n            expression: rule.expression, \n            matched: false,\n            error: error.message\n          };\n        }\n      });\n      \n      // 生成测试轨迹\n      const trace = results.map(result => ({\n        ruleName: result.ruleName,\n        expression: result.expression,\n        passed: result.matched,\n        result: result.matched ? '通过' : result.error ? `错误: ${result.error}` : '未通过'\n      }));\n      \n      // 找到第一个匹配的规则结果\n      const firstMatch = results.find(result => result.matched);\n      const finalResult = firstMatch ? '规则命中' : '未命中任何规则';\n      \n      setTestResult({ results, finalResult });\n      setResultTrace(trace);\n      setShowTestResult(true);\n    } catch (error) {\n      alert('输入JSON格式错误: ' + error.message);\n    }\n  };\n\n  // 添加新规则\n  const addNewRule = () => {\n    const newId = Math.max(...rules.map(r => r.id)) + 1;\n    setRules([...rules, { \n      id: newId, \n      expression: '', \n      name: `规则${newId}`,\n      decisions: [\n        {\n          id: newId,\n          name: `规则${newId}决策`,\n          actions: [\n            { type: 'SET', key: '', value: '', target: 'ML_DECISION' }\n          ]\n        }\n      ]\n    }]);\n  };\n\n  // 删除规则\n  const handleDeleteRule = (id) => {\n    if (rules.length <= 1) {\n      alert('至少需要保留一条规则');\n      return;\n    }\n    setRules(rules.filter(rule => rule.id !== id));\n  };\n\n  // 复制规则\n  const handleCopyRule = (id) => {\n    const ruleToCopy = rules.find(rule => rule.id === id);\n    if (!ruleToCopy) return;\n    \n    const newId = Math.max(...rules.map(r => r.id)) + 1;\n    const newRule = {\n      ...ruleToCopy,\n      id: newId,\n      name: `${ruleToCopy.name} (复制)`,\n      decisions: ruleToCopy.decisions.map(decision => ({\n        ...decision,\n        id: newId,\n        name: `${decision.name} (复制)`\n      }))\n    };\n    \n    setRules([...rules, newRule]);\n  };\n\n  // 拖拽相关函数\n  const handleDragStart = (e, index) => {\n    setDraggedIndex(index);\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/plain', index);\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n  };\n\n  const handleDrop = (e, targetIndex) => {\n    e.preventDefault();\n    const sourceIndex = parseInt(e.dataTransfer.getData('text/plain'), 10);\n    \n    if (sourceIndex !== targetIndex) {\n      const newRules = [...rules];\n      const [movedRule] = newRules.splice(sourceIndex, 1);\n      newRules.splice(targetIndex, 0, movedRule);\n      setRules(newRules);\n    }\n    \n    setDraggedIndex(null);\n  };\n\n  return (\n    <div className=\"app-container\">\n      <div className=\"header\">\n        <h1>规则组：规则组1</h1>\n        <div className=\"header-actions\">\n          <button className=\"btn btn-secondary\">取消</button>\n          <button className=\"btn btn-secondary\">确定</button>\n          <button className=\"btn btn-primary\">保存并启用</button>\n        </div>\n      </div>\n\n      <div className=\"rule-editor\">\n        <div className=\"section-title\">规则与决策管理</div>\n        \n        {/* 四列表格布局 */}\n        <div className=\"table-container\">\n          <table className=\"decision-table\">\n            <thead>\n              <tr>\n                <th className=\"table-column serial-column\">序号</th>\n                <th className=\"table-column rule-column\">规则列</th>\n                <th className=\"table-column decision-column\">决策列</th>\n                <th className=\"table-column action-column\">操作列</th>\n              </tr>\n            </thead>\n            <tbody>\n              {rules.map((rule, index) => (\n                <tr\n                  key={rule.id}\n                  draggable=\"true\"\n                  onDragStart={(e) => handleDragStart(e, index)}\n                  onDragOver={handleDragOver}\n                  onDrop={(e) => handleDrop(e, index)}\n                  className=\"table-row\"\n                >\n                            {/* 序号列 */}\n                            <td className=\"serial-cell\">\n                              <div className=\"serial-number\">{index + 1}</div>\n                            </td>\n                            \n                            {/* 规则列 */}\n                            <td className=\"rule-cell\">\n                              <div className=\"rule-section\">\n                                <div className=\"rule-item\">\n                                  {/* 规则名编辑 */}\n                                  <div className=\"rule-name-container\">\n                                    <span className=\"rule-prefix\">新规则</span>\n                                    <input\n                                      type=\"text\"\n                                      className=\"rule-name\"\n                                      value={rule.name}\n                                      onChange={(e) => updateRuleName(rule.id, e.target.value)}\n                                      placeholder=\"规则名\"\n                                    />\n                                  </div>\n                                  {/* 规则表达式编辑 */}\n                                  <input\n                                    type=\"text\"\n                                    className=\"rule-expression\"\n                                    value={rule.expression}\n                                    onChange={(e) => handleRuleExpressionChange(rule.id, e.target.value)}\n                                    placeholder=\"输入规则表达式，例如：age >= 18\"\n                                  />\n                                </div>\n                              </div>\n                            </td>\n                            \n                            {/* 决策列 */}\n                            <td className=\"decision-cell\">\n                              <div className=\"decision-section\">\n                                {rule.decisions.map((decision) => (\n                                  <div key={decision.id} className=\"decision-item\">\n                                    <div className=\"decision-header\">\n                                      <span className=\"decision-type\">{decision.name}</span>\n                                      <div className=\"decision-actions\">\n                                        <button \n                                          className=\"btn btn-small btn-danger\"\n                                          onClick={() => deleteDecision(rule.id, decision.id)}\n                                          disabled={rule.decisions.length <= 1}\n                                        >\n                                          删除决策\n                                        </button>\n                                      </div>\n                                    </div>\n                                    <div className=\"action-list\">\n                                      {decision.actions.map((action, idx) => (\n                                        <div key={idx} className=\"action-row\">\n                                          <select\n                                            className=\"action-select\"\n                                            value={action.target}\n                                            onChange={(e) => handleActionChange(rule.id, decision.id, idx, 'target', e.target.value)}\n                                          >\n                                            <option value=\"ML_DECISION\">ML_DECISION</option>\n                                          </select>\n                                          <select\n                                            className=\"action-select\"\n                                            value={action.type}\n                                            onChange={(e) => handleActionChange(rule.id, decision.id, idx, 'type', e.target.value)}\n                                          >\n                                            <option value=\"SET\">SET</option>\n                                            <option value=\"INCR\">INCR</option>\n                                          </select>\n                                          <input\n                                            type=\"text\"\n                                            className=\"action-input\"\n                                            value={action.key}\n                                            onChange={(e) => handleActionChange(rule.id, decision.id, idx, 'key', e.target.value)}\n                                            placeholder=\"key\"\n                                          />\n                                          <input\n                                            type=\"text\"\n                                            className=\"action-input\"\n                                            value={action.value}\n                                            onChange={(e) => handleActionChange(rule.id, decision.id, idx, 'value', e.target.value)}\n                                            placeholder=\"value\"\n                                          />\n                                          <button \n                                            className=\"btn btn-small btn-danger\"\n                                            onClick={() => deleteDecisionAction(rule.id, decision.id, idx)}\n                                          >\n                                            删除动作\n                                          </button>\n                                        </div>\n                                      ))}\n                                    </div>\n                                    <button \n                                      className=\"btn btn-small btn-secondary\"\n                                      onClick={() => addNewDecisionAction(rule.id, decision.id)}\n                                    >\n                                      + 添加动作\n                                    </button>\n                                  </div>\n                                ))}\n                              </div>\n                            </td>\n                            \n                            {/* 操作列 */}\n                            <td className=\"action-cell\">\n                              <div className=\"row-actions\">\n                                <button className=\"btn btn-small btn-secondary\" onClick={() => handleCopyRule(rule.id)}>复制规则</button>\n                                <button className=\"btn btn-small btn-danger\" onClick={() => handleDeleteRule(rule.id)}>删除规则</button>\n                              </div>\n                            </td>\n                          </tr>\n                        ))}\n                  </tbody>\n                </table>\n        </div>\n        \n        <button className=\"btn btn-secondary\" onClick={addNewRule}>\n          + 添加规则\n        </button>\n      </div>\n\n      <div className=\"test-section\">\n        <div className=\"section-title\">测试</div>\n        <textarea\n          className=\"test-input\"\n          value={testInput}\n          onChange={handleTestInputChange}\n          placeholder='输入测试数据，例如：{ \"age\": 28 }'\n        ></textarea>\n        <button className=\"btn btn-primary\" onClick={runTest}>\n          运行测试\n        </button>\n        \n        {testResult && (\n          <div className=\"test-results\">\n            <h3>测试结果</h3>\n            {testResult.results.map((result, index) => (\n              <div key={index} className=\"result-item\">\n                <div>\n                  <span className=\"result-label\">规则:</span>\n                  <span className=\"result-value\">{result.ruleName}</span>\n                </div>\n                <div>\n                  <span className=\"result-label\">表达式:</span>\n                  <span className=\"result-value\">{result.expression}</span>\n                </div>\n                <div>\n                  <span className=\"result-label\">匹配结果:</span>\n                  <span className=\"result-value\">{result.matched ? 'true' : 'false'}</span>\n                </div>\n                {result.error && (\n                  <div>\n                    <span className=\"result-label\">错误:</span>\n                    <span className=\"result-value\">{result.error}</span>\n                  </div>\n                )}\n                {result.decision && (\n                  <div>\n                    <span className=\"result-label\">执行决策:</span>\n                    <span className=\"result-value\">\n                      {JSON.stringify(result.decision, null, 2)}\n                    </span>\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}